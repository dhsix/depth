# Depth2Elevation - GAMUS Dataset Configuration

# åŸºæœ¬è®¾ç½®
model_name: "depth2elevation"
experiment_name: "depth2elevation_gamus_vitb_50ep"
seed: 42
device: "cuda:1"

# æ•°æ®è®¾ç½®
data_root: '/home/hudong26/HeightData/GAMUS'
dataset_name: "GAMUS"
input_size: 448
patch_size: 14
batch_size: 8
num_workers: 1
# ğŸ†• ç²¾ç»†åŒ–å†»ç»“ç­–ç•¥é…ç½®
freezing_config:
  strategy: "selective"          # é€‰é¡¹: "none", "simple", "selective"
  freeze_patch_embed: true       # æ˜¯å¦å†»ç»“patch embedding
  unfreeze_positional: true      # æ˜¯å¦è§£å†»ä½ç½®ç¼–ç ç›¸å…³å‚æ•°
  print_stats: true             # æ˜¯å¦æ‰“å°è¯¦ç»†çš„å‚æ•°ç»Ÿè®¡ä¿¡æ¯

# è®­ç»ƒè®¾ç½®
num_epochs: 50
learning_rate: 5.0e-6
weight_decay: 0.01
optimizer: "adamw"
scheduler: "constant"

# éªŒè¯å’Œä¿å­˜
val_interval: 5
save_interval: 10
max_keep_ckpts: 3

# è·¯å¾„è®¾ç½®
checkpoint_dir: "./checkpoints"
log_dir: "./logs"
result_dir: "./experiments"

# æ¨¡å‹é…ç½®
model_config:
  encoder: "vitb"  # vits, vitb, vitl, vitg
  img_size: 448
  patch_size: 14
  pretrained_path: "/mnt/data1/UserData/hudong26/Height/Depth-Anything-V2/checkpoints/depth_anything_v2_vitb.pth"
  freeze_encoder: false

# æŸå¤±å‡½æ•°é…ç½®
loss_config:
  type: "multi_scale_loss"
  gamma: 1.0      # L_aiæƒé‡
  delta: 1.0      # L_siæƒé‡  
  mu: 0.05        # L_gradæƒé‡
  beta: 0.15      # SI lossä¸­çš„beta
  epsilon: 1.0e-7 # logè®¡ç®—ä¸­çš„epsilon
  lambda_grad: 1.0e-3  # æ¢¯åº¦æŸå¤±æƒé‡

# è®­ç»ƒå™¨é…ç½®
trainer_type: "multi_scale_depth"
use_multi_scale_output: true
compute_metrics_interval: 1
log_scale_losses: true

# æ•°æ®å¢å¼ºé…ç½®
augmentation_config:
  horizontal_flip: 0.5
  color_jitter: 0.5
  gaussian_blur: 0.0